/*! win-behat 21-02-2014 */
angular.module("winbehat",["ui.codemirror"]),angular.module("winbehat").controller("directoryTreeController",["$scope","filelistService",function(a,b){a.filelist={},a.hasFilelist=!1,a.openDirectory=function(c){b.read(c.files[0].path,function(b){a.$apply(function(){b&&(a.filelist=b),a.hasFilelist=!0})})},a.clickNode=function(c){c.item.isDirectory&&(c.item.isOpen?c.item.isShow=!c.item.isShow:b.read(c.item.name,function(b){a.$apply(function(){b&&(c.item.children=b.children),c.item.isOpen=!0,c.item.isShow=!0})}))},a.getIconClass=function(a){return{"icon-expand-directory":a.item.isDirectory&&a.item.isShow,"icon-contract-directory":a.item.isDirectory&&!a.item.isShow,"icon-file":!a.item.isDirectory,"tree-icon":!0}}}]),angular.module("winbehat").controller("textEditorController",["$scope",function(a){a.editorOptions={lineWrapping:!0,lineNumbers:!0,indentUnit:4,indentWithTabs:!1,extraKeys:{Tab:function(a){var b=a.getOption("indentUnit"),c="",d=a.doc.sel,e=d.from,f=d.to,g=0,h=0,i=[],j={line:0,ch:0},k={line:0,ch:0};if(a.somethingSelected()){for(c=Array(b+1).join(" "),j.line=e.line,g=e.line,h=g+a.getSelection().split("\n").length-!f.ch;h>g;g++)i.push(c+a.doc.getLine(g)),k.line=g,k.ch=a.doc.getLine(g).length;a.doc.replaceRange(i.join("\n"),j,k),j.ch=e.ch+b,k.ch=f.ch+b,a.doc.setSelection(j,k)}else c=Array(b-e.ch%b+1).join(" "),a.replaceSelection(c,"end","+input")}}}}]),angular.module("winbehat").directive("dirctoryTreeNode",["$compile",function(a){return{restrict:"E",replace:!0,scope:{file:"="},templateUrl:"template/directory-tree-node.html",controller:"directoryTreeController",compile:function(b){var c,d=b.contents().remove();return function(b,e){c||(c=a(d)),c(b,function(a){e.append(a)})}}}}]),angular.module("winbehat").factory("behatService",function(){return require("./js/my-modules/behat")}),angular.module("winbehat").factory("filelistService",function(){return require("./js/my-modules/filelist")});